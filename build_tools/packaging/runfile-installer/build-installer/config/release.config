# release.config
# ROCm Installer Build Configuration - Release Builds
#
# This preset is configured for official release builds with all GPU architectures.
# Command-line arguments will override these settings.
#
# Equivalent command line:
#   ./build-runfile-installer.sh \
#       pull=release pullrocmver=7.11.0 \
#       rocm-archs=gfx90x,gfx94x,gfx950,gfx110x,gfx1150,gfx1151,gfx1152,gfx120x \
#       amdgpu-mode=all rocm-mode=chroot \
#       mscomp=prodmedium buildtag=release buildrunid=99999

#==============================================================================
# SETUP CONFIGURATION (setup-installer.sh)
#==============================================================================

# Release type: dev, nightly, prerelease, release
# Arg: pull=<type>
PULL_CONFIG_RELEASE_TYPE="release"

# Build tag (8 chars for nightly/dev, rc0/rc1 for prerelease)
# Arg: pulltag=<tag>
# Note: Release builds typically don't use a specific tag
PULL_CONFIG_TAG=""

# Component build run ID (optional for release)
# Arg: pullrunid=<runid>
PULL_CONFIG_RUNID=""

# ROCm version (e.g., 7.11.0, 7.12.0)
# Arg: pullrocmver=<version>
PULL_CONFIG_ROCM_VER="7.11.0"

# Base package to pull (default: amdrocm-core-sdk)
# Arg: pullpkg=<package>
PULL_CONFIG_PKG="amdrocm-core-sdk"

# Extra packages (array) - comma-separated via pullpkgextra=<packages>
# Arg: pullpkgextra=<pkg1,pkg2,pkg3>
PULL_CONFIG_PKG_EXTRA=()

# GPU architectures to include (array) - comma-separated via rocm-archs=<archs>
# Arg: rocm-archs=<arch1,arch2,arch3>
ROCM_GFX_ARCHS=(gfx90x gfx94x gfx950 gfx110x gfx1150 gfx1151 gfx1152 gfx120x)

# AMDGPU mode: all (all distros) or single (current distro)
# Arg: amdgpu-mode=<all|single>
SETUP_AMDGPU_MODE="all"

# ROCm mode: native (use current OS) or chroot (use Ubuntu chroot)
# Arg: rocm-mode=<native|chroot>
SETUP_ROCM_MODE="chroot"

# Setup control flags (set via 'rocm' or 'amdgpu' args)
# Args: rocm, amdgpu
# Leave at 0 - script will auto-enable both if neither specified
SETUP_ROCM=0
SETUP_AMDGPU=0

#==============================================================================
# BUILD CONFIGURATION (build-installer.sh)
#==============================================================================

# Compression mode: normal, dev, prodfast, prodmedium, prodsmall
# Arg: mscomp=<mode>
# Release builds use balanced compression
MAKESELF_COMPRESS_MODE="prodmedium"

# Build tag (used in installer name)
# Arg: buildtag=<tag>
BUILD_TAG="release"

# Build run ID
# Arg: buildrunid=<id>
BUILD_RUNID="99999"

# Build pull tag (optional for release)
# Arg: buildpulltag=<tag>
# Note: Release builds typically don't use a pull tag
BUILD_PULL_TAG=""

# Enable/disable features
# Args: noextract, norocm, noamdgpu, norunfile, nogui
BUILD_EXTRACT="yes"      # Set to "no" via: noextract
BUILD_INSTALLER="yes"    # Set to "no" via: norunfile
BUILD_UI="yes"           # Set to "no" via: nogui
EXTRACT_ROCM="yes"       # Set to "no" via: norocm
EXTRACT_AMDGPU="yes"     # Set to "no" via: noamdgpu

# Extract type (optional)
# Args: noextractcontent, contentlist
EXTRACT_TYPE=""          # Set to "nocontent" via: noextractcontent
                         # Set to "contentlist" via: contentlist
