# TheRock Logging Demo Configuration
# =====================================
# This file demonstrates the logging framework with GTest and CTest integration
#
# Usage:
#   python build_tools/run_logging_demo.py --config build_tools/logging_demo.yaml

# Logging Configuration
logging:
  # Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
  level: INFO
  
  # Enable colored console output
  use_colors: true
  
  # Log file configuration
  log_file:
    enabled: true
    path: "logs/logging_demo.log"
    append: false
  
  # Component-specific log levels (optional)
  components:
    test_runner: DEBUG
    gtest: INFO
    ctest: INFO
    system: WARNING

# Test Configuration
tests:
  # Working directory for tests
  working_directory: "build"
  
  # GTest Configuration
  gtest:
    enabled: true
    test_executables:
      - name: "sample_math_tests"
        path: "tests/sample_math_tests"
        args: ["--gtest_output=xml:test_results/math_tests.xml"]
        timeout: 60
        retry_on_failure: 2
        
      - name: "sample_string_tests"
        path: "tests/sample_string_tests"
        args: ["--gtest_output=xml:test_results/string_tests.xml"]
        timeout: 60
        retry_on_failure: 1
        
      - name: "sample_integration_tests"
        path: "tests/sample_integration_tests"
        args: ["--gtest_output=xml:test_results/integration_tests.xml"]
        timeout: 120
        retry_on_failure: 0
  
  # CTest Configuration
  ctest:
    enabled: true
    # CTest specific arguments
    args:
      - "--output-on-failure"
      - "--verbose"
      - "-j4"  # Run 4 tests in parallel
    
    # Test labels to run (empty = all)
    labels: []
    
    # Exclude specific tests (regex patterns)
    exclude_patterns: []
    
    # Timeout for individual tests (seconds)
    timeout: 300
    
    # CTest output format
    output_format: "junit"
    output_file: "test_results/ctest_results.xml"

# Build Configuration (optional - for building before testing)
build:
  enabled: true
  build_directory: "build"
  cmake:
    generator: "Ninja"
    build_type: "Debug"
    options:
      - "-DTHEROCK_BUILD_TESTING=ON"
      - "-DBUILD_TESTING=ON"
  
  # Build targets
  targets:
    - "sample_math_tests"
    - "sample_string_tests"
    - "sample_integration_tests"
  
  # Number of parallel build jobs
  parallel_jobs: 8

# Reporting Configuration
reporting:
  # Generate HTML report
  html_report:
    enabled: true
    output_path: "test_results/report.html"
  
  # Generate JSON summary
  json_summary:
    enabled: true
    output_path: "test_results/summary.json"
  
  # Send notifications (placeholder)
  notifications:
    enabled: false
    email: []
    slack_webhook: ""

# Environment Variables
environment:
  # Additional environment variables for tests
  variables:
    HIP_VISIBLE_DEVICES: "0"
    ROCM_PATH: "${CMAKE_INSTALL_PREFIX}"
  
  # Path additions
  paths:
    - "${CMAKE_INSTALL_PREFIX}/bin"
    - "${CMAKE_INSTALL_PREFIX}/lib"

# Execution Options
execution:
  # Stop on first failure
  fail_fast: false
  
  # Continue on error
  continue_on_error: true
  
  # Clean build before running tests
  clean_build: false
  
  # Verbose output
  verbose: true
  
  # Dry run (don't actually execute tests)
  dry_run: false

