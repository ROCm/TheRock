name: Logging Framework Demo

# Demo workflow for TheRock standardized logging framework
on:
  # Manual trigger
  workflow_dispatch:
    inputs:
      demo_type:
        description: 'Which demo to run'
        required: true
        type: choice
        options:
          - samples      # Two sample components (recommended for demo)
          - all          # Run all examples
          - basic        # Basic usage only
          - advanced     # Advanced features
          - migration    # Migration examples
        default: 'samples'
  
  # Auto-trigger on push
  push:
    branches:
      - 'users/rponnuru/logging_poc'

permissions:
  contents: read

jobs:
  logging_demo:
    name: Logging Framework Demo
    runs-on: ubuntu-latest
    
    steps:
      - name: Checkout Repository
        uses: actions/checkout@v4
      
      - name: Setup Python
        uses: actions/setup-python@v5
        with:
          python-version: '3.12'
      
      - name: Display Demo Info
        run: |
          echo "=========================================="
          echo "  TheRock Logging Framework Demo"
          echo "=========================================="
          echo ""
          echo "Trigger: ${{ github.event_name }}"
          echo "Branch: ${{ github.ref_name }}"
          echo "Demo Type: ${{ github.event.inputs.demo_type || 'samples' }}"
          echo ""
      
      - name: üìã Run Logging Framework Demo
        run: |
          echo "::group::üìù Running Logging Framework Demo"
          echo "=========================================="
          echo "  TheRock Logging Framework Examples"
          echo "=========================================="
          echo ""
          echo "Demo Type: ${{ github.event.inputs.demo_type || 'samples' }}"
          echo ""
          
          cd build_tools/_therock_utils
          python3 run_logging_demos.py ${{ github.event.inputs.demo_type || 'samples' }}
          
          echo ""
          echo "‚úÖ Demo completed!"
          echo "::endgroup::"
      
      - name: ‚úÖ Demo Summary
        if: always()
        run: |
          echo ""
          echo "=========================================="
          echo "  Demo Summary"
          echo "=========================================="
          echo ""
          echo "Demo Type: ${{ github.event.inputs.demo_type || 'samples' }}"
          echo "Status: ${{ job.status }}"
          echo ""
          echo "‚úÖ Logging framework demo completed!"
          echo ""


