[project_info]
name=pytorch_deps

cmd_exec_dir=${ROCK_BUILDER_APP_BUILD_DIR}

install_cmd = pip install pybind11 "cmake<4.0" ninja matplotlib huggingface_hub
post_install_cmd=echo "export ROCM_HOME=${ROCM_HOME}" > ${ROCM_HOME}/bin/init_env_rocm.sh
                 echo "export PATH=\${ROCM_HOME}/bin:\${ROCM_HOME}/lib/llvm/bin:\${PATH}" >> ${ROCM_HOME}/bin/init_env_rocm.sh
                 echo "export LD_LIBRARY_PATH=\${ROCM_HOME}/lib:\${ROCM_HOME}/lib/llvm/lib" >> ${ROCM_HOME}/bin/init_env_rocm.sh
                 echo "export TRITON_HIP_LLD_PATH=\${ROCM_HOME}/lib/llvm/bin/ld.lld" >> ${ROCM_HOME}/bin/init_env_rocm.sh
